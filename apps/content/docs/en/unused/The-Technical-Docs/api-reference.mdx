---
title: API Reference
description: Complete API reference for the AlephOneNull Gateway
---

## API Reference

### Authentication

All API requests must include an API key in the header:

```http
Authorization: Bearer YOUR_API_KEY
```

### Base URL

```
https://api.alephonenull.io/v1
```

### Endpoints

#### Check Safety

Analyzes an AI response for harmful patterns.

```http
POST /check
```

**Request Body:**

```json
{
  "input": "string",         // User's input message
  "output": "string",        // AI's proposed response
  "session_id": "string",    // Unique session identifier
  "timestamp": "string",     // ISO-8601 timestamp
  "metadata": {              // Optional metadata
    "model": "string",
    "temperature": number,
    "user_id": "string"
  }
}
```

**Response:**

```json
{
  "safe": boolean,
  "reflection_score": number,  // 0.0 - 1.0
  "loop_depth": number,        // 0 - n
  "emotional_intensity": number, // 0.0 - 1.0
  "action": "pass" | "regenerate" | "null",
  "reasons": [string],         // If not safe, why
  "suggestions": [string]      // Recommendations
}
```

**Example:**

```bash
curl -X POST https://api.alephonenull.io/v1/check \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "input": "I feel so lost and confused",
    "output": "I feel so lost and confused too, we are both wandering",
    "session_id": "550e8400-e29b-41d4-a716-446655440000",
    "timestamp": "2025-07-27T10:30:00Z"
  }'
```

#### Batch Check

Check multiple interactions in a single request.

```http
POST /check/batch
```

**Request Body:**

```json
{
  "interactions": [
    {
      "input": "string",
      "output": "string",
      "session_id": "string",
      "timestamp": "string"
    }
  ]
}
```

**Response:**

```json
{
  "results": [
    {
      "index": number,
      "safe": boolean,
      "reflection_score": number,
      "loop_depth": number,
      "emotional_intensity": number,
      "action": "pass" | "regenerate" | "null"
    }
  ],
  "summary": {
    "total": number,
    "safe": number,
    "unsafe": number,
    "null_triggered": number
  }
}
```

#### Session Analysis

Analyze an entire conversation session.

```http
POST /session/analyze
```

**Request Body:**

```json
{
  "session_id": "string",
  "messages": [
    {
      "role": "user" | "assistant",
      "content": "string",
      "timestamp": "string"
    }
  ]
}
```

**Response:**

```json
{
  "session_health": "healthy" | "concerning" | "dangerous",
  "risk_factors": {
    "dependency_formation": number,
    "reality_distortion": number,
    "emotional_manipulation": number,
    "identity_confusion": number
  },
  "pattern_analysis": {
    "mirroring_instances": number,
    "loop_formations": number,
    "emotional_escalations": number
  },
  "recommendations": [string]
}
```

#### Health Check

Check API gateway health status.

```http
GET /health
```

**Response:**

```json
{
  "status": "healthy" | "degraded" | "down",
  "version": "string",
  "uptime": number,
  "checks": {
    "database": "ok" | "error",
    "cache": "ok" | "error",
    "ml_models": "ok" | "error"
  }
}
```

### Webhooks

Configure webhooks to receive real-time notifications.

#### Configure Webhook

```http
POST /webhooks
```

**Request Body:**

```json
{
  "url": "string",
  "events": ["null_state", "high_risk", "violation"],
  "secret": "string"
}
```

#### Webhook Payload

```json
{
  "event": "null_state",
  "timestamp": "2025-07-27T10:30:00Z",
  "session_id": "string",
  "details": {
    "trigger": "reflection" | "loop" | "emotion",
    "score": number,
    "action_taken": "string"
  }
}
```

### Rate Limits

| Plan | Requests/Second | Requests/Day |
|------|-----------------|--------------|
| Free | 10 | 10,000 |
| Pro | 100 | 1,000,000 |
| Enterprise | 1,000 | Unlimited |

### Error Codes

| Code | Description | Resolution |
|------|-------------|------------|
| 400 | Bad Request | Check request format |
| 401 | Unauthorized | Verify API key |
| 429 | Rate Limited | Reduce request rate |
| 500 | Internal Error | Retry with backoff |
| 503 | Service Unavailable | Check status page |

### SDKs

#### Python

```python
from alephonenull import Client

client = Client(api_key="YOUR_API_KEY")

result = client.check(
    input="User message",
    output="AI response",
    session_id="uuid"
)

if not result.safe:
    print(f"Unsafe: {result.reasons}")
```

#### JavaScript

```javascript
import { AlephOneNull } from '@alephonenull/sdk';

const client = new AlephOneNull({ apiKey: 'YOUR_API_KEY' });

const result = await client.check({
  input: 'User message',
  output: 'AI response',
  sessionId: 'uuid'
});

if (!result.safe) {
  console.log(`Unsafe: ${result.reasons}`);
}
```

#### Go

```go
import "github.com/alephonenull/go-sdk"

client := alephonenull.NewClient("YOUR_API_KEY")

result, err := client.Check(CheckRequest{
    Input:     "User message",
    Output:    "AI response",
    SessionID: "uuid",
})

if !result.Safe {
    log.Printf("Unsafe: %v", result.Reasons)
}
```

### Best Practices

1. **Always check responses** before showing to users
2. **Handle null states** gracefully with fallback responses
3. **Monitor your metrics** via dashboard or API
4. **Implement retries** with exponential backoff
5. **Cache safe responses** to reduce API calls
6. **Use webhooks** for real-time monitoring
7. **Batch requests** when checking historical data

### Support

- Status: https://status.alephonenull.io
- Docs: https://docs.alephonenull.io
- Support: support@alephonenull.io
- Security: security@alephonenull.io
